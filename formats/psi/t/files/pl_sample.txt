# Sample file in PSI format for representing lattices.
# PSI is inspired by UTT (but not compatible with UTT)
# '#' is used to denote remark, empty lines are discarded as well.

# This file represents a lattice for a sentence "Ala ma&nbsp;kota"
# ("&nbsp;" is an HTML entity for a non-breaking space, the sentence
# will be treated as a fragment of an HTML file).

# Each edge is represented by one line, line is divided
# into six fields:
# * (ordinal) number starting from 1
# * beginning index in the text (starting from 0)
# * the length of segment (in characters)
# * the fragment of the text comprised by the edge
# * layer tags (separated by commas)
# * annotation item - first the category, then attribute-value pairs
#   separated with commas

# Eg. the first edge is token 'Ala' (token categories are written with
# quotes) of type `word`, it comprises the first 3 letters of the
# text.

01 0000 03 Ala         token                'Ala',type=word

# Actually, this is not the first edge. There are some implicit edges
# in the text, i.e. if for an edge no consituents were specified using
# square brackets (as is the case for the above edge) then it is
# assumed that the edge is composed of N sub-edges of layer tag `raw`
# (N is the length of the edge in characters), the category of each
# is 'c where c is the given character.

# In other words, if these sub-edges were specified explicitly, the
# file would start in the following way:
#  01 0000 01 A           raw                  'A
#  02 0001 01 l           raw                  'l
#  03 0002 01 a           raw                  'a
#  04 0000 03 Ala         token                'Ala',type=word[1-2-3]
# ("[1-2-3]" means that the edge is composed of edges 1, 2 and 3).

# Now lemmata for the first token are specified, note that the token is
# treated as a consituent of a token ("[1]" at the end of the line).
# Constituents are always given before the superedge.

02 0000 03 Ala         lemma,poleng-tagset  Ala,pos=R:4,morpho=ŻMP[1]
03 0000 03 Ala         lemma,poleng-tagset  Al,pos=R:1,morpho=MoDP[1]
04 0000 03 Ala         lemma,poleng-tagset  Al,pos=R:1,morpho=MoBP[1]

# Now edges generated by the parser:
05 0000 03 Ala         parse,gobio          rzeczownik,R=4,L=1,P=mian[2]
06 0000 03 Ala         parse,gobio          fraza\_rzeczownikowa,R=4,L=1,P=mian[5]
# (underscore is escaped)


# And now the blank. Again a `raw` edge is implicit here.
# The same conventions for special characters is used as in UTT (e.g.
# "_" denotes a space).
07 0003 01 _           token                '_',type=blank

08 0004 02 ma          token                'ma',type=word
09 0004 02 ma          lemma,poleng-tagset  mieć,pos=C:N,morpho=OP3[8]
10 0004 02 ma          lemma,poleng-tagset  mój,pos=ZP,morpho=ŻMP[8]
11 0004 03 ma          parse,gobio          czasownik,C=teraźniejszy,R=any,L=1,O=3[9]

# Here comes the tricky stuff - the entity &nbsp;, now `raw` edge is
# given explicitly:
12 0006 05 &nbsp;      raw                  '_

# ... and constituent must be given explicitly for the token:
13 0006 05 &nbsp;      token                '_,type=blank[12]

14 0011 04 kota        token                type=word
15 0011 04 kota        lemma,poleng-tagset  kot,pos=R:2,morpho=MżDP[14]
16 0011 04 kota        lemma,poleng-tagset  kot,pos=R:2,morpho=MżBP[14]
17 0011 04 kota        parse,gobio          rzeczownik,R=2,L=1,P=dop[15]
18 0011 04 kota        parse,gobio          fraza\_rzeczownikowa,R=2,L=1,P=dop[15]

# ... and a larger phrase composed of two subphrases (and a blank in between):
19 0004 11 ma&nbsp;kota     parse,gobio     fraza\_czasownikowa,C=teraźniejszy,O=3,L=1[11-13-18]

# ... the whole structure
20 0000 15 Ala ...;kota  parse,gobio     pełna\_fraza\_czasownikowa,C=teraźniejszy[6-7-19]

# ... the fourth field is for humans (except for edges with implicit raw subedges!!), so
# it can be truncated.

22 0011 01 .           token                '.',type=punct

# sentence as given by splitter:
23 0016 12 Ala ...kota. splitter             sentence
# note that it is composed of 12 sub-edges (edge 12 and 11 implicit ones)

# and (syntactical) sentence, given by the parser:
24 0016 12 Ala ...kota. parse,gobio         zdanie[21-22]




